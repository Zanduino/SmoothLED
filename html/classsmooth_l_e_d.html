<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SmoothLED: smoothLED Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SmoothLED
   &#160;<span id="projectnumber">v1.0.0</span>
   </div>
   <div id="projectbrief">Zanduino Arduino Library for controlling 10-bit PWM on any pins</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classsmooth_l_e_d.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classsmooth_l_e_d-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">smoothLED Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to allow PWM pins to be used with 10-bit PWM regardless of which timer they are attached to.  
 <a href="classsmooth_l_e_d.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a604cb27810470b2e0fa30a17d196af95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a604cb27810470b2e0fa30a17d196af95">smoothLED</a> ()</td></tr>
<tr class="separator:a604cb27810470b2e0fa30a17d196af95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f3a207b8221ff0639f290d6c19322a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#ad5f3a207b8221ff0639f290d6c19322a">~smoothLED</a> ()</td></tr>
<tr class="separator:ad5f3a207b8221ff0639f290d6c19322a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c71bd80b41ee8a65e7939c7c3b8bcc3"><td class="memItemLeft" align="right" valign="top"><a id="a4c71bd80b41ee8a65e7939c7c3b8bcc3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>smoothLED</b> (const <a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;)=delete</td></tr>
<tr class="separator:a4c71bd80b41ee8a65e7939c7c3b8bcc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4e4e18eceecbd07cb7dba1aa8f47f9"><td class="memItemLeft" align="right" valign="top"><a id="a8d4e4e18eceecbd07cb7dba1aa8f47f9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>smoothLED</b> (<a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&amp;led)=delete</td></tr>
<tr class="separator:a8d4e4e18eceecbd07cb7dba1aa8f47f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4847ef2600f15001ea8dc2ba2792632d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a4847ef2600f15001ea8dc2ba2792632d">operator++</a> ()</td></tr>
<tr class="separator:a4847ef2600f15001ea8dc2ba2792632d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e5641ab1f0e4f8f75e48dc68be15e5"><td class="memItemLeft" align="right" valign="top"><a id="a86e5641ab1f0e4f8f75e48dc68be15e5"></a>
<a class="el" href="classsmooth_l_e_d.html">smoothLED</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator++</b> (int)=delete</td></tr>
<tr class="separator:a86e5641ab1f0e4f8f75e48dc68be15e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa400fc93342e1be4be6911073c2ffdb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#aa400fc93342e1be4be6911073c2ffdb5">operator--</a> ()</td></tr>
<tr class="separator:aa400fc93342e1be4be6911073c2ffdb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12daf3c028f9759ca4abf891dd40cccd"><td class="memItemLeft" align="right" valign="top"><a id="a12daf3c028f9759ca4abf891dd40cccd"></a>
<a class="el" href="classsmooth_l_e_d.html">smoothLED</a>&#160;</td><td class="memItemRight" valign="bottom"><b>operator--</b> (int)=delete</td></tr>
<tr class="separator:a12daf3c028f9759ca4abf891dd40cccd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319ae5007b6684475815797b7673bd77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a319ae5007b6684475815797b7673bd77">operator+=</a> (const int16_t &amp;value)</td></tr>
<tr class="separator:a319ae5007b6684475815797b7673bd77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ad93f53870423be35c15575580154d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#ab7ad93f53870423be35c15575580154d">operator-=</a> (const int16_t &amp;value)</td></tr>
<tr class="separator:ab7ad93f53870423be35c15575580154d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17b80f7aaaed473f26cd39d7b73f37d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a17b80f7aaaed473f26cd39d7b73f37d7">operator=</a> (const <a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;value)</td></tr>
<tr class="separator:a17b80f7aaaed473f26cd39d7b73f37d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dcb8eb037eac54e0c13832dc5cf29e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#ae4dcb8eb037eac54e0c13832dc5cf29e">operator+</a> (const int16_t &amp;value)</td></tr>
<tr class="separator:ae4dcb8eb037eac54e0c13832dc5cf29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac848ba5f84f45436bb26e1dd23a19e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#aac848ba5f84f45436bb26e1dd23a19e1">operator-</a> (const int16_t &amp;value)</td></tr>
<tr class="separator:aac848ba5f84f45436bb26e1dd23a19e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c22e86fe4d4f7f493dadb5f1f45a7f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a43c22e86fe4d4f7f493dadb5f1f45a7f">begin</a> (const uint8_t pin, const bool invert=false)</td></tr>
<tr class="separator:a43c22e86fe4d4f7f493dadb5f1f45a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afced7dba38c2898cd1bb44bf465367b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#afced7dba38c2898cd1bb44bf465367b3">hertz</a> (const uint8_t hertz) const</td></tr>
<tr class="separator:afced7dba38c2898cd1bb44bf465367b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f1204bc2465387a5c3274ed7d11e5b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a4f1204bc2465387a5c3274ed7d11e5b9">set</a> (const uint16_t &amp;val, const uint8_t speed=0)</td></tr>
<tr class="separator:a4f1204bc2465387a5c3274ed7d11e5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:adf0bc9b6fdc3fe62b2bb4da2db83d251"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#adf0bc9b6fdc3fe62b2bb4da2db83d251">pwmISR</a> ()</td></tr>
<tr class="separator:adf0bc9b6fdc3fe62b2bb4da2db83d251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614ad693ed59ea963488460cd494f817"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmooth_l_e_d.html#a614ad693ed59ea963488460cd494f817">faderISR</a> ()</td></tr>
<tr class="separator:a614ad693ed59ea963488460cd494f817"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to allow PWM pins to be used with 10-bit PWM regardless of which timer they are attached to. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a604cb27810470b2e0fa30a17d196af95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a604cb27810470b2e0fa30a17d196af95">&#9670;&nbsp;</a></span>smoothLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">smoothLED::smoothLED </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class constructor</p>
<p>There can be many instances of this class, as many as one per pin. Instead of pre- allocating storage we'll create a linked list (with just forward-pointers) to the list of instances. The interrupt routine needs to use this list to iterate through all instances and perform the appropriate PWM actions. The first instantiation will enable the interrupts and ISR for OCR0A and OCR0B which is used to fade the LEDs</p>

</div>
</div>
<a id="ad5f3a207b8221ff0639f290d6c19322a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f3a207b8221ff0639f290d6c19322a">&#9670;&nbsp;</a></span>~smoothLED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">smoothLED::~smoothLED </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Class destructor</p>
<p>Class instances are constructed like a stack, so the first instance destroyed is the last one that was instantiated. So when we destroy an instance we just need to remove the last link in the list of instances. When destroying the last surviving instance we disable any interrupt that has been set</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a43c22e86fe4d4f7f493dadb5f1f45a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c22e86fe4d4f7f493dadb5f1f45a7f">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smoothLED::begin </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>invert</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the LED</p>
<p>The function returns an error (false) if a pin doesn't exist, or the pin has already been defined. The pin is made an output pin and the register address for the PORT number and bitmask are stored with the class instance along with flag on whether the LED is inverted (where 0 denotes full ON and 1023 means OFF); as LEDs can be attached to the pin in either direction. The TIMER is set to no prescaling and the mode is set to CTC. This is done here, rather than in the class constructor, since the Arduino IDE overwrites the timing registers and the class is typically constructed before the <a class="el" href="_builtin___l_e_d___demo_8ino.html#a4fc01d736fe50cf5b977f755b675f11d">setup()</a> call. Although each instance sets these values, they apply globally to all instances of the class. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pin</td><td>The Arduino pin number of the LED </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">invert</td><td>Boolean - when false then a value of "0" represents "OFF" and the max value represent "ON". Some LEDs are hooked up differently with and the values are reversed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE on success, FALSE when the pin is not a PWM-Capable one</dd></dl>

</div>
</div>
<a id="a614ad693ed59ea963488460cd494f817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614ad693ed59ea963488460cd494f817">&#9670;&nbsp;</a></span>faderISR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smoothLED::faderISR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Performs fading PWM functions</p>
<p>While the "pwmISR()" needs to be called very frequently in order to perform PWM on the pins, the actual fading effect doesn't need to be called that often. Hence this function is attached to the TIMER0_COMPA_vect and TIMER0_COMPB_vect and triggered by those. The TIMER0 is used by the Arduino for timing (millis() and micros() functions), and it is set to overflow roughly every millisecond. By adding these COMPA and COMPB triggers, we get a rate of about 500ms for this function, which is enough for a full fade from 0 to 1023 to take half a second at top speed.</p>

</div>
</div>
<a id="afced7dba38c2898cd1bb44bf465367b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afced7dba38c2898cd1bb44bf465367b3">&#9670;&nbsp;</a></span>hertz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smoothLED::hertz </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>hertz</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the PWM frequency</p>
<p>The function sets the PWM frequency. The actual interrupt rate is 1023 times the Hertz value specified, that is accounted for in the formula. While rate down to 1Hz can be given, anything below 30 (depending on the LED and brightness) causes visible flickering and should be avoided. Any number beyond XXXX is ignored, as the interrupt rate would be so high that there are no CPU cycles left to process the main program. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hertz</td><td>Unsigned integer Hertz setting for LED PWM</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4dcb8eb037eac54e0c13832dc5cf29e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4dcb8eb037eac54e0c13832dc5cf29e">&#9670;&nbsp;</a></span>operator+()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator+ </td>
          <td>(</td>
          <td class="paramtype">const int16_t &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Overload</li>
</ul>
<p>The "+" operator increments the target LED level by the specified value</p>

</div>
</div>
<a id="a4847ef2600f15001ea8dc2ba2792632d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4847ef2600f15001ea8dc2ba2792632d">&#9670;&nbsp;</a></span>operator++()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator++ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>++ Overload</p>
<p>The "++" pre-increment operator increments the target LED level</p>

</div>
</div>
<a id="a319ae5007b6684475815797b7673bd77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319ae5007b6684475815797b7673bd77">&#9670;&nbsp;</a></span>operator+=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator+= </td>
          <td>(</td>
          <td class="paramtype">const int16_t &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>+= Overload</p>
<p>The "+=" operator increments the target LED level by the specified value</p>

</div>
</div>
<a id="aac848ba5f84f45436bb26e1dd23a19e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac848ba5f84f45436bb26e1dd23a19e1">&#9670;&nbsp;</a></span>operator-()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator- </td>
          <td>(</td>
          <td class="paramtype">const int16_t &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Overload</li>
</ul>
<p>The "-" operator decrements the target LED level by the specified value</p>

</div>
</div>
<a id="aa400fc93342e1be4be6911073c2ffdb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa400fc93342e1be4be6911073c2ffdb5">&#9670;&nbsp;</a></span>operator--()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator-- </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&ndash; Overload</p>
<p>The "--" pre-decrement operator increments the target LED level</p>

</div>
</div>
<a id="ab7ad93f53870423be35c15575580154d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ad93f53870423be35c15575580154d">&#9670;&nbsp;</a></span>operator-=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator-= </td>
          <td>(</td>
          <td class="paramtype">const int16_t &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li>Overload</li>
</ul>
<p>The "-" operator decrements the target LED level by the specified value</p>

</div>
</div>
<a id="a17b80f7aaaed473f26cd39d7b73f37d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17b80f7aaaed473f26cd39d7b73f37d7">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp; smoothLED::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsmooth_l_e_d.html">smoothLED</a> &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>= Overload</p>
<p>The "=" operator sets the LED value of _currentLevel, _targetLevel and _changeSpeed</p>

</div>
</div>
<a id="adf0bc9b6fdc3fe62b2bb4da2db83d251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf0bc9b6fdc3fe62b2bb4da2db83d251">&#9670;&nbsp;</a></span>pwmISR()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void smoothLED::pwmISR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Function to actually perform the PWM on all pins</p>
<p>This function is the interrupt handler for TIMER1_COMPA and performs the PWM turning ON and OFF of all the pins defined in the instances of the class. It is called very often and therefore needs to be as compact as possible. If the LED is set to 30Hz then this ISR is call 30*1023 = 30690 times a second, or every 32.5 microseconds. At 16MHz the microprocessor only executes 16 instructions per microsecond so it is really important to minimize time spent here. This function iterates through all the instances of the <a class="el" href="classsmooth_l_e_d.html" title="Class to allow PWM pins to be used with 10-bit PWM regardless of which timer they are attached to...">smoothLED</a> class and sets each pin ON or OFF for the appropriate number of cycles.</p>
<p>&lt; loop counter 0-1023 for software PWM </p>

</div>
</div>
<a id="a4f1204bc2465387a5c3274ed7d11e5b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1204bc2465387a5c3274ed7d11e5b9">&#9670;&nbsp;</a></span>set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smoothLED::set </td>
          <td>(</td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>speed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets the LED</p>
<p>This function does not actually set the pin, it just writes the corresponding parameter values to the instance variables. The setting of the pin state is done in the "pwmISR()" function which is called by the interrupt triggered by the timer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>The value 0-1023 to set the LED. Defaults to 0 (OFF) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">speed</td><td>The rate of change from 0 (immediate) 1 - slow to 255 - fast. Defaults to 0</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_smooth_l_e_d_8h_source.html">SmoothLED.h</a></li>
<li>src/<a class="el" href="_smooth_l_e_d_8cpp.html">SmoothLED.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classsmooth_l_e_d.html">smoothLED</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
